# JSDoc

Данный репозиторий является сопроводительным к [видеоуроку по созданию документации с помощью JSDoc](https://www.youtube.com/watch?v=fDhpBp1DZbE). Здесь размещён исходный код к файлу test.js, на основе которого создана документация, а также текстовая инструкция.

Для того, чтобы использовать JSDoc необходимо установить на компьютер Node.js. 

## Инструкция

1. Создайте папку, в которой будет находиться исходный JavaScript код и где будет размещена документация.
2. Проинициализируйте созданную папку с помощью команды `npm init -y`. Флаг `-y` по умолчанию отвечает 'yes' на все вопросы, заданные в ходе инициализации.
3. Установим JSDoc глобально: `npm install jsdoc -g`.
4. Создадим JavaScript файл (с помощью GUI или `touch test.js`).

Далее мы опишем функцию из библиотеки [Lodash](https://lodash.com/), которая может быть подключена для работы в парадигме функционального программирования.

Эта библиотека представляет собой модуль. Сейчас мы представим, что мы описываем функцию внутри модуля. Опишем метод, который называется initial и который служит для того, чтобы получить все элементы массива, кроме последнего.

```
function initial(array) {
	var length = array == null ? 0 : array.length;
	return length ? array.slice(0, -1) : [];
}
```

Мы можем проверить работоспособность функции, выведя в консоль результат её работы с простейшим аргументом, например так: `console.log(initial([1, 2, 3]))`. Запустить файл можно с помощью команды `node test.js`. Если всё в порядке, мы получим ожидаемый результат - массив `[1, 2]`.

Теперь мы непосредственно приступим к документации функции. Для этого мы напишем комментарии, которые будут преобразованы в документацию.
Мы должны поместить документирующий комментарий прямо перед описываемым фрагментом кода.
Каждый документирующий коментарий должен начинаться со слэша и двух звёздочек, чтобы парсер JSdoc распознал фрагмент документации. Одна или больше двух звёздочек не будут интерпретированы никак.

Начнём с описания того, что делает наша функция. Для этого просто напишем первой строкой предложение:

```
/**
* Возвращает все, кроме последнего, элементы массива, переданного в качестве аргумента
*/
function initial(array) { ...
```

Описание фрагментов кода в JSDoc осуществляется с помощью тегов. Опишем параметр нашей функции с помощью тэга `@param`. Мы можем описать тип передаваемого значения и добавить небольшое описание: `* @param {Array} array - обрабатываемый массив`. Аналогично описывается тип возвращаемого значения, только с использованием тэга `@returns`:

```
...
* @param {Array} array - обрабатываемый массив
* @returns {Array} - массив без последнего элемента
...
```

Также мы можем добавить пример использования с помощью тэга `@example`. Опишем простейшее поведение:

```
... 
* @example
*
* initial([1, 2, 3]);
* // => [1, 2]
...
```

Итак, у нас есть всё для создания документации: функция и её описание в виде документирующих комментариев. Осталось обработать наш JavaScript файл с помощью *JSdoc*. Для этого выполним команду `jsdoc test.js`. Убедитесь, что выполняете команду именно в папке, в которой нахидится файл *test.js*.

После запуска команды в папке будет создана другая папка с именем *out*. В папке содержатся файлы для стилизации внешнего вида HTML страницы с документацией, а также *index.html*, который является домашней страницей для документации. С этой страницы можно перейти на страницу описанной нами функции, где можно увидеть информацию о переданном аргументе, возвращаемом значении и пример использования функции.

Добавить информацию на главную страницу можно с помощью README.md файла. Создадим его и запишем в него информацию в формате markdown. Пример того, что можно туда поместить:

```
# Lodash

Fetures:

* Версия 0.2.0
* Добавлен метод `initial`
* Создана документация с помощью JSDoc
```

Если бы мы действительно разрабатывали библиотеку, мы бы хотели добавить больше информации о ней. Мы можем сделать это с помощью тегов @license и @namespace. Добавим пару свойств и допустим, что мы хотели использовать одно из них как приватное, а другое как публичное. Это возможно описать с помощью тэга @access.

```
/**
 * @license Lodash <https://lodash.com/>
 * @namespace Lodash
 */
const lodash = (function () {
  /**
   * @access private
   * @memberof Lodash
   */
  const meaning = 42;

  /**
   * @access public
   * @memberof Lodash
   */
  const welcome = "Hello";
	...
	```

	В очередной раз произведём компиляцию, в этот раз указав в качестве опционального аргумента созданный README.md файл (`jsdoc test.js README.md`) и посмотрим на результат. На главной странице мы теперь можем увидеть информацию, описанную в README.md. 

	Документация очень многих популярных библиотек выполнена с помощью JSDoc с использованием кастомной темы, Lodash не исключение. Больше информации можно найти на [usejsdoc.org](http://usejsdoc.org/).